<!DOCTYPE html>
<html lang="en-US">
  
<head>


  <!-- favicon settings -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/site-images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/site-images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/site-images/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/site-images/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/site-images/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/images/site-images/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/assets/images/site-images/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">



  
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });

  
    MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
    MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
    </script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
  </script>
  

  <!-- Prism is now loaded by being imported in assets/css/style.scss -->
  <!-- <link href="/assets/css/prism.css" rel="stylesheet" /> -->

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Coding up an LV2 Synth Audio Plugin</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Coding up an LV2 Synth Audio Plugin" />
<meta name="author" content="Evan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Are synths as fun to code as they are to play?" />
<meta property="og:description" content="Are synths as fun to code as they are to play?" />
<link rel="canonical" href="http://localhost:4000/2022/10/13/simple-lv2-synth.html" />
<meta property="og:url" content="http://localhost:4000/2022/10/13/simple-lv2-synth.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-13T15:39:48-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Coding up an LV2 Synth Audio Plugin" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Evan"},"dateModified":"2022-10-13T15:39:48-04:00","datePublished":"2022-10-13T15:39:48-04:00","description":"Are synths as fun to code as they are to play?","headline":"Coding up an LV2 Synth Audio Plugin","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/10/13/simple-lv2-synth.html"},"url":"http://localhost:4000/2022/10/13/simple-lv2-synth.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="/assets/css/style.css">




  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167888524-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-167888524-1');
  </script>
  
  <meta charset="UTF-8">

 
  


</head>

  <body>
    <!-- <a id="skip-to-content" href="#content">Skip to the content.</a> -->

    <header class="page-header" role="banner">
      <img class="header-image" src="/assets/images/site-images/chicken.jpg">
      <h1 class="project-name"></h1>
      <h2 class="project-tagline"></h2>
      <!-- <link href="../assets/fontawesome/all.css" rel="stylesheet"> load all styles -->

<script src="/js/site-scripts/toggle-search.js" type="text/javascript"></script>

<nav>
  
  <a href="/"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-home"></i>
    <br>
    Home
  </a>
  
  <a href="/about.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-user"></i>
    <br>
    About
  </a>
  
  <a href="/archive.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-archive"></i>
    <br>
    Archive
  </a>
  
  <a href="/tags.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-tags"></i>
    <br>
    Tags
  </a>
  
  <a href=""

     
      id="search-button" onclick="toggleSearch(); return false;" 
    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-search"></i>
    <br>
    Search
  </a>
  
</nav>
      <!-- Html Elements for Search -->
<div id="search-container" style="visibility: hidden;">
  <input type="text" id="search-input" placeholder="Search..." />
  <ul id="results-container"></ul>
</div>

<!-- Script pointing to search-script.js -->
<script src="/js/site-scripts/search-script.js" type="text/javascript"></script>

<!-- Configuration -->
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="http://localhost:4000{url}">{title} {subtitle}</a></li>'
  })
  </script>


      
      
    </header>

    <hr id="header-main-divider">

    <main id="content" class="main-content" role="main">
      <div class="post-header inactive">
<h1 id="post-title">Coding up an LV2 Synth Audio Plugin</h1>
<h3 id="post-subtitle"></h3>
<div class="post-date">
    <i class="fas fa-calendar"></i> <time>13 Oct 2022</time>
</div>
</div>

<img class="post-image" src="/assets/images/blog-images/lv2-synth" alt="Image of sine wave from http://www.tronola.com/moorepage/Sine.html" title="">



<a id="continue-reading-point"></a>

<div class="excerpt">
<p>Are synths as fun to code as they are to play?</p>

</div>
<!--end-excerpt-->




<hr>

<h2>Contents</h2>

<ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#an-introduction">An introduction</a>
<ul>
<li class="toc-entry toc-h3"><a href="#what-is-an-audio-plugin">What is an Audio Plugin?</a></li>
<li class="toc-entry toc-h3"><a href="#what-is-lv2">What is LV2?</a></li>
<li class="toc-entry toc-h3"><a href="#why-choose-lv2">Why Choose LV2?</a></li>
<li class="toc-entry toc-h3"><a href="#what-does-an-audio-plugin-look-like">What Does an Audio Plugin Look Like?</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#setting-up-lv2">Setting Up LV2</a>
<ul>
<li class="toc-entry toc-h3"><a href="#resources">Resources</a></li>
<li class="toc-entry toc-h3"><a href="#downloading-lv2">Downloading LV2</a></li>
<li class="toc-entry toc-h3"><a href="#installing-lv2">Installing LV2</a>
<ul>
<li class="toc-entry toc-h4"><a href="#installing-dependency-meson">Installing Dependency Meson</a></li>
<li class="toc-entry toc-h4"><a href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<hr>

<div id="markdown-content">
    <h2 id="an-introduction">
<a class="anchor" href="#an-introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>An introduction</h2>
<h3 id="what-is-an-audio-plugin">
<a class="anchor" href="#what-is-an-audio-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is an Audio Plugin?</h3>
<p>An audio plugin is a piece of software (most often a virtual instrument or effect) that integrates into a <a href="https://en.wikipedia.org/wiki/Digital_audio_workstation">Digital Audio Workstation(DAW)</a> such as <a href="reaper.fm">Reaper</a> or <a href="ableton.com">Ableton Live</a>. There are quite a few different audio plugin formats - the most popular ones being:</p>
<ul>
  <li>
<a href="https://www.steinberg.net/technology/">VST3</a> - Steinberg’s closed-source solution turned open-source</li>
  <li>
<a href="https://developer.apple.com/documentation/audiotoolbox/audio_unit_v3_plug-ins">AUv3</a> - The iOS standard</li>
  <li>
<a href="https://www.avid.com/avid-plugins-by-category">AAX</a> - Avid/ProTools’ solution</li>
  <li>Standalone - As the name would imply, these types of plugins don’t require any host DAW. They can be launched and operated. Like NotePad.</li>
</ul>

<p>Many developers release their audio plugins under multiple formats - often by using licensed tools like <a href="https://juce.com/">JUCE</a>.</p>

<h3 id="what-is-lv2">
<a class="anchor" href="#what-is-lv2" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is LV2?</h3>
<p>From <a href="https://lv2plug.in/">lv2pkug.in</a>:</p>
<blockquote>
  <p>LV2 is an extensible open standard for audio plugins. LV2 has a simple core interface, which is accompanied by extensions that add more advanced functionality.</p>

  <p>Many types of plugins can be built with LV2, including audio effects, synthesizers, and control processors for modulation and automation. Extensions support more powerful features, such as:</p>

  <ul>
    <li>Platform-native UIs</li>
    <li>Network-transparent plugin control</li>
    <li>Portable and archivable persistent state</li>
    <li>Non-realtime tasks (like file loading) with sample-accurate export</li>
    <li>Semantic control with meaningful control designations and value units</li>
    <li>The LV2 specification and accompanying code is permissively licensed free software, with support for all major platforms.</li>
  </ul>
</blockquote>

<h3 id="why-choose-lv2">
<a class="anchor" href="#why-choose-lv2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why Choose LV2?</h3>
<p>I originally was going to create a VST3 synth(<a href="https://github.com/eldun/eldun.github.io/blob/source/_drafts/simple-synth.md">I even started a blog post :c</a>), but found Steinberg’s <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/">documentation</a> to be lacking and poorly organized - especially for the Linux platform, which is where I’m doing most of my coding as of late. LV2, on the other hand is platform-agnostic, <a href="https://lv2plug.in/pages/developing.html">well-documented</a>, and open-source from the start.</p>

<p><a href="https://lv2plug.in/pages/why-lv2.html">Here’s a list of reasons to use LV2 straight from the source</a>.</p>

<h3 id="what-does-an-audio-plugin-look-like">
<a class="anchor" href="#what-does-an-audio-plugin-look-like" aria-hidden="true"><span class="octicon octicon-link"></span></a>What Does an Audio Plugin Look Like?</h3>
<p>There are thousands upon thousands of plugins out there - ranging from minimalist retro synths and complex rhythm sequencers to Karplus-Strong string modelers and destructive bit-crushers. Here are some of my favorites:</p>

<p><a href="vital.audio">Vital</a>
<img src="/assets/images/blog-images/simple-synth/vital.jpg" alt="Vital">
<a href="https://asb2m10.github.io/dexed/">Dexed</a>
<img src="/assets/images/blog-images/simple-synth/dexed.png" alt="Dexed">
<img src="/assets/images/blog-images/simple-synth/valhalla-delay.webp" alt="Valhalla Freq Echo">
<a href="https://valhalladsp.com/shop/delay/valhalla-freq-echo/">Valhalla Freq Echo</a>
<img src="/assets/images/blog-images/simple-synth/blue-arp.png" alt="BlueARP Arpeggiator">
<a href="https://omg-instruments.com/wp/?page_id=63">BlueARP Arpeggiator</a></p>

<h2 id="setting-up-lv2">
<a class="anchor" href="#setting-up-lv2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Up LV2</h2>

<h3 id="resources">
<a class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h3>
<p>LV2 doesn’t have an official guide, but comes with a few well-documented example plugins. There’s also a “<a href="https://lv2plug.in/book/#_introduction">book</a>” that walks through the included examples.</p>

<p>A short list of development topics can be read about <a href="https://lv2plug.in/pages/developing.html">here</a>.</p>

<h3 id="downloading-lv2">
<a class="anchor" href="#downloading-lv2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Downloading LV2</h3>
<p>At the time of this writing, LV2 can be downloaded from <a href="https://lv2plug.in/">LV2’s homepage</a>. There’s also a <a href="https://gitlab.com/lv2/lv2">gitlab repository</a>.</p>

<h3 id="installing-lv2">
<a class="anchor" href="#installing-lv2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing LV2</h3>
<p><a href="https://gitlab.com/lv2/lv2/-/blob/master/INSTALL.md">Installation instructions</a> are included in the LV2 download.</p>

<h4 id="installing-dependency-meson">
<a class="anchor" href="#installing-dependency-meson" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing Dependency Meson</h4>
<ul>
  <li>
<a href="https://mesonbuild.com/index.html">Meson</a> is LV2’s chosen build system.</li>
  <li>
<a href="https://mesonbuild.com/Getting-meson.html">Installing Meson</a>: <code class="language-plaintext highlighter-rouge">sudo apt install meson</code>.</li>
  <li>
<a href="https://mesonbuild.com/Quick-guide.html">Getting Started with Meson</a>.</li>
</ul>

<h4 id="configuration">
<a class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h4>
<blockquote>
  <p>The build is configured with the setup command, which creates a new build directory with the given name:</p>

  <p><code class="language-plaintext highlighter-rouge">meson setup build</code></p>
</blockquote>

<p>(Just run <code class="language-plaintext highlighter-rouge">meson setup build</code> from the LV2 root directory)</p>

<p>From within the newly created <code class="language-plaintext highlighter-rouge">build</code> directory, you can:</p>
<ul>
  <li><a href="https://gitlab.com/lv2/lv2/-/blob/master/INSTALL.md#building"><code class="language-plaintext highlighter-rouge">meson compile</code></a></li>
  <li><a href="https://gitlab.com/lv2/lv2/-/blob/master/INSTALL.md#building"><code class="language-plaintext highlighter-rouge">meson test</code></a></li>
  <li><a href="https://gitlab.com/lv2/lv2/-/blob/master/INSTALL.md#installation"><code class="language-plaintext highlighter-rouge">meson install</code></a></li>
</ul>

<blockquote>
  <p>You may need to acquire root permissions to install to a system-wide prefix. For packaging, the installation may be staged to a directory using the DESTDIR environment variable or the –destdir option:</p>

  <pre><code class="language-console">
DESTDIR=/tmp/mypackage/ meson install

meson install --destdir=/tmp/mypackage/
</code></pre>
</blockquote>

<blockquote>
  <p>By default, on UNIX-like systems, everything is installed within the <code>prefix</code>,
and LV2 bundles are installed in the “lv2” subdirectory of the <code>libdir</code>.  On
other systems, bundles are installed by default to the standard location for
plugins on the system. The bundle installation directory can be overridden
with the <code>lv2dir</code> option.
The specification bundles are run-time dependencies of LV2 applications.
Programs expect their data to be available somewhere in <code class="language-plaintext highlighter-rouge">LV2_PATH</code>.  See
<a href="http://lv2plug.in/pages/filesystem-hierarchy-standard.html">http://lv2plug.in/pages/filesystem-hierarchy-standard.html</a> for details on the
standard installation paths.</p>
</blockquote>

<blockquote>
  <p>Configuration options(such as <code class="language-plaintext highlighter-rouge">lv2dir</code>) can be inspected with the <code class="language-plaintext highlighter-rouge">configure</code> command from within the <code class="language-plaintext highlighter-rouge">build</code> directory:</p>

  <pre><code class="language-console">
cd build
meson configure
</code></pre>
</blockquote>

<blockquote>
  <p>Options can be set by passing C-style “define” options to configure:</p>

  <p><code class="language-plaintext highlighter-rouge">meson configure -Dc_args="-march=native" -Dprefix="/opt/mypackage/"</code></p>

  <p>Note that some options, such as strict and werror are for
developer/maintainer use only.  Please don’t file issues about anything that
happens when they are enabled.</p>
</blockquote>


  </div>

<hr>
<h1><i class="fas fa-hand-peace"></i></h1>
<div class="post-tags">
    
  
  <code><a class="tag-link"
    href=/tags/audio
    rel="category tag">
    #audio</code></a>

  
  <code><a class="tag-link"
    href=/tags/music
    rel="category tag">
    #music</code></a>

  
  <code><a class="tag-link"
    href=/tags/c++
    rel="category tag">
    #c++</code></a>

</div>

      <footer class="site-footer">
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

    <!-- prism syntax  -->
    <script src="/js/site-scripts/prism.js"></script>
    <script src ='/assets/prism-components'></script>
    <!-- <script>Prism.plugins.NormalizeWhitespace.setDefaults({
      'remove-trailing': true,
      'remove-indent': true,
      'left-trim': false,
      'right-trim': true,
      'break-lines': 80,
      'indent': 0,
      'remove-initial-line-feed': true,
      'tabs-to-spaces': 4,
      'spaces-to-tabs': 4
    });</script> -->
    

      <!-- Back to top -->
    <script src="/js/site-scripts/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop()</script>

  </body>
</html>
