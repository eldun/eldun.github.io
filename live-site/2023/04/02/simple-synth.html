<!DOCTYPE html>
<html lang="en-US">
  
<head>


  <!-- favicon settings -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/site-images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/site-images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/site-images/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/site-images/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/site-images/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/images/site-images/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/assets/images/site-images/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">



  
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });

  
    MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
    MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
          alert("Math Processing Error: "+message[1]);
        });
    </script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
  </script>
  

  <!-- Prism is now loaded by being imported in assets/css/style.scss -->
  <!-- <link href="/assets/css/prism.css" rel="stylesheet" /> -->
  <link rel="stylesheet" href="/assets/css/style.css">


  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Writing a Simple Synth VST Plug-in</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Writing a Simple Synth VST Plug-in" />
<meta name="author" content="Evan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Are synths as fun to write as they are to play with?" />
<meta property="og:description" content="Are synths as fun to write as they are to play with?" />
<link rel="canonical" href="http://localhost:4000/2023/04/02/simple-synth.html" />
<meta property="og:url" content="http://localhost:4000/2023/04/02/simple-synth.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-02T16:14:29-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Writing a Simple Synth VST Plug-in" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Evan"},"dateModified":"2023-04-02T16:14:29-04:00","datePublished":"2023-04-02T16:14:29-04:00","description":"Are synths as fun to write as they are to play with?","headline":"Writing a Simple Synth VST Plug-in","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2023/04/02/simple-synth.html"},"url":"http://localhost:4000/2023/04/02/simple-synth.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">




  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167888524-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-167888524-1');
  </script>
  
  <meta charset="UTF-8">

 
  


</head>

  <body>
    <!-- <a id="skip-to-content" href="#content">Skip to the content.</a> -->

    <header class="page-header" role="banner">
      <img class="header-image" src="/assets/images/site-images/chicken.jpg">
      <h1 class="project-name"></h1>
      <h2 class="project-tagline"></h2>
      <!-- <link href="../assets/fontawesome/all.css" rel="stylesheet"> load all styles -->

<script src="/js/site-scripts/toggle-search.js" type="text/javascript"></script>

<nav>
  
  <a href="/"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-home"></i>
    <br>
    Home
  </a>
  
  <a href="/about.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-user"></i>
    <br>
    About
  </a>
  
  <a href="/archive.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-archive"></i>
    <br>
    Archive
  </a>
  
  <a href="/tags.html"

    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-tags"></i>
    <br>
    Tags
  </a>
  
  <a href=""

     
      id="search-button" onclick="toggleSearch(); return false;" 
    

    
      class="nav-bar-link"
    >
    
    <i class="fas fa-search"></i>
    <br>
    Search
  </a>
  
</nav>
      <!-- Html Elements for Search -->
<div id="search-container" style="visibility: hidden;">
  <input type="text" id="search-input" placeholder="Search..." />
  <ul id="results-container"></ul>
</div>

<!-- Script pointing to search-script.js -->
<script src="/js/site-scripts/search-script.js" type="text/javascript"></script>

<!-- Configuration -->
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="http://localhost:4000{postUrl}">{postTitle} {postSubtitle}</a></li>'
  })
  </script>


      
      
    </header>

    <hr id="header-main-divider">

    <main id="content" class="main-content" role="main">
      <div class="post-header inactive">
<h1 id="post-title">Writing a Simple Synth VST Plug-in</h1>
<h3 id="post-subtitle"></h3>
<div class="post-date">
    <i class="fas fa-calendar"></i> <time>02 Apr 2023</time>
</div>
</div>

<img class="post-image" src="/assets/images/blog-images/simple-synth/sine-wave.png" alt="The basis for all sounds: the sine wave." title="">



<a id="continue-reading-point"></a>

<div class="excerpt">
<p>Are synths as fun to write as they are to play with?</p>

</div>
<!--end-excerpt-->




<hr>

<h2>Contents</h2>

<ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#what-is-vst">What is VST?</a></li>
<li class="toc-entry toc-h2"><a href="#what-does-a-vst-plug-in-look-like">What Does a VST Plug-in Look Like?</a></li>
<li class="toc-entry toc-h2"><a href="#starting-small">Starting Small</a></li>
<li class="toc-entry toc-h2"><a href="#installing-dependencies">Installing Dependencies</a></li>
<li class="toc-entry toc-h2"><a href="#building-the-included-examples">Building the Included Examples</a></li>
<li class="toc-entry toc-h2"><a href="#creating-a-new-project">Creating a New Project</a>
<ul>
<li class="toc-entry toc-h3"><a href="#from-the-project-generator">From the Project Generator</a></li>
<li class="toc-entry toc-h3"><a href="#from-the-helloworld-template">From the Helloworld Template</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#using-vstgui">Using VSTGUI</a>
<ul>
<li class="toc-entry toc-h3"><a href="#setup">Setup</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#source-code-specifics">Source code specifics</a></li>
<li class="toc-entry toc-h1"><a href="#setsmtg_macos_deployment_target-1012">set(SMTG_MACOS_DEPLOYMENT_TARGET “10.12”)</a></li>
<li class="toc-entry toc-h1"><a href="#replace-by-command-line-arguments">Replace by command line arguments</a>
<ul>
<li class="toc-entry toc-h2"><a href="#using-vstgui-1">Using VSTGUI</a>
<ul>
<li class="toc-entry toc-h3"><a href="#setup-1">Setup</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#source-code-specifics-1">Source code specifics</a></li>
<li class="toc-entry toc-h1"><a href="#setsmtg_macos_deployment_target-1012-1">set(SMTG_MACOS_DEPLOYMENT_TARGET “10.12”)</a></li>
<li class="toc-entry toc-h1"><a href="#replace-by-command-line-arguments-1">Replace by command line arguments</a>
<ul>
<li class="toc-entry toc-h3"><a href="#using-the-vstgui-ui-editor">Using the VSTGUI UI Editor</a></li>
</ul>
</li>
</ul>

<hr>

<div id="markdown-content">
    <h2 id="what-is-vst">
<a class="anchor" href="#what-is-vst" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is VST?</h2>
<p>VST stands for “Virtual Studio Technology” - it’s an audio plug-in software interface that integrates virtual instruments and effects into digital audio workstations such as <a href="reaper.fm">Reaper</a> or <a href="ableton.com">Ableton Live</a>. If you’d like to learn more, you can check out <a href="https://en.wikipedia.org/wiki/Virtual_Studio_Technology">Wikipedia’s VST page</a>.</p>

<h2 id="what-does-a-vst-plug-in-look-like">
<a class="anchor" href="#what-does-a-vst-plug-in-look-like" aria-hidden="true"><span class="octicon octicon-link"></span></a>What Does a VST Plug-in Look Like?</h2>
<p>There are thousands upon thousands of VSTs out there - ranging from minimalist retro synths and complex rhythm sequencers to Karplus-Strong string modelers and destructive bit-crushers. Here are some of my favorites:</p>

<p><span class="row">
<span class="captioned-image">
<a href="vital.audio">Vital</a>
<img src="/assets/images/blog-images/simple-synth/vital.jpg" alt="Vital">
</span>
<span class="captioned-image">
<a href="https://asb2m10.github.io/dexed/">Dexed</a>
<img src="/assets/images/blog-images/simple-synth/dexed.png" alt="Dexed">
</span>
</span></p>

<p><span class="row">
<span class="captioned-image">
<img src="/assets/images/blog-images/simple-synth/valhalla-delay.webp" alt="Valhalla Freq Echo">
<a href="https://valhalladsp.com/shop/delay/valhalla-freq-echo/">Valhalla Freq Echo</a>
</span>
<span class="captioned-image">
<img src="/assets/images/blog-images/simple-synth/blue-arp.png" alt="BlueARP Arpeggiator">
<a href="https://omg-instruments.com/wp/?page_id=63">BlueARP Arpeggiator</a> 
</span>
</span></p>

<h2 id="starting-small">
<a class="anchor" href="#starting-small" aria-hidden="true"><span class="octicon octicon-link"></span></a>Starting Small</h2>
<p>I’ve done a small amount of coding that involved audio before, but that was for Android - I know almost nothing about creating VSTs. Thankfully, there’s a lot of literature out there - I’ll be following <a href="http://www.martin-finke.de/blog/tags/making_audio_plugins.html">this guide</a> by Martin Finke. The first step on the journey will be creating a simple distortion plug-in (rock and roll!) to get familiar with the tools and concepts involved in VST creation:</p>
<blockquote>
  <p>We will use C++ and the WDL-OL library. It is based on Cockos WDL (pronounced whittle). It basically does a lot of work for us, most importantly:</p>
  <ul>
    <li>Ready-made Xcode / Visual Studio Projects</li>
    <li>Create VST, AudioUnit, VST3 and RTAS formats from one codebase: Just choose the plugin format and click run!</li>
    <li>Create 32/64-Bit executables</li>
    <li>Make your plugin run as a standalone Win/Mac application</li>
    <li>Most GUI controls used in audio plugins</li>
  </ul>
</blockquote>

<p>We don’t have to worry about the different VST formats thanks to IPlug - an abstraction layer that’s part of WDL.</p>

<h2 id="installing-dependencies">
<a class="anchor" href="#installing-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing Dependencies</h2>
<p>The first order of business is to download the VST3 SDK from <a href="https://www.steinberg.net/developers/">Steinberg</a>. Unfortunately, the guide I’m following isn’t tailored for Linux users - I’ll have to do some digging as to actually make use of it. So far, the most promising steps I’ve found are <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Getting+Started/How+to+setup+my+system.html#for-linux">here (system setup)</a> and <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Building+the+examples+included+in+the+SDK+Linux.html#part-2-building-the-examples-on-linux">here (building the example)</a>. Note that to install dependencies, you can run the script “setup_linux_packages_for_vst3sdk.sh” included in the VST3_SDK/tools folder.</p>

<h2 id="building-the-included-examples">
<a class="anchor" href="#building-the-included-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building the Included Examples</h2>
<p>Now we have to install <a href="https://cmake.org/install/">cmake</a> to control the compilation process. I ran into issues on my Chromebook running executing the bootstrap file - extracting the cmake tarball to (and installing from) /home instead of /mnt solved my issues.</p>

<p>A helpful tutorial on CMake can be found <a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">here</a></p>

<p>The next step is to construct our build folder with CMake, which will include some example VSTs.
&lt;/code&gt;&lt;/pre&gt;
mkdir build
cd build</p>

<p>cmake ../VST_SDK/vst3sdk/
cmake –build .
&lt;/code&gt;&lt;/pre&gt;
The resulting <code class="language-plaintext highlighter-rouge">build/VST3/Debug</code> folder is full of example VSTs:
&lt;/code&gt;&lt;/pre&gt;
adelay.vst3                helloworld.vst3            multiple_programchanges.vst3  prefetchable.vst3
again-sampleaccurate.vst3  helloworldWithVSTGUI.vst3  noteexpressionsynth.vst3      programchange.vst3
againsimple.vst3           hostchecker.vst3           noteexpressiontext.vst3       syncdelay.vst3
again.vst3                 legacymidiccout.vst3       panner.vst3
channelcontext.vst3        mda-vst3.vst3              pitchnames.vst3
&lt;/code&gt;&lt;/pre&gt;
Now we need a VST host - I already have Reaper installed, so that’s what I’ll be using. After setting up the path to our new VSTs in Reaper, we can load some up:</p>

<p><img src="/assets/images/blog-images/simple-synth/vst-examples.png" alt="Example Steinberg VST Plug-ins loaded up in Reaper"></p>

<h2 id="creating-a-new-project">
<a class="anchor" href="#creating-a-new-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a New Project</h2>
<h3 id="from-the-project-generator">
<a class="anchor" href="#from-the-project-generator" aria-hidden="true"><span class="octicon octicon-link"></span></a>From the Project Generator</h3>
<p>Steinberg recommends using the open source <a href="https://github.com/steinbergmedia/vst3projectgenerator">VST Project Generator</a> for generating new projects:
<img src="/assets/images/blog-images/simple-synth/project-generator.png" alt="VST Project Generator"> <br>
However, as far as I can tell, the GUI only works on MacOS/Windows. There is a script within the repo you can run to generate a project as well, but there would still be some annoying <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Use+VSTGUI+to+design+a+UI.html#part-1-preparation">Manual editing</a> you’d have to do. And after you do that, I don’t find the documentation to be super clear. Which brings me to the better-explained alternative…</p>

<h3 id="from-the-helloworld-template">
<a class="anchor" href="#from-the-helloworld-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>From the Helloworld Template</h3>
<p>Follwing the article <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Creating+a+plug-in+from+the+Helloworld+template.html">here</a></p>

<h2 id="using-vstgui">
<a class="anchor" href="#using-vstgui" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using VSTGUI</h2>
<h3 id="setup">
<a class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h3>
<p>(Following the article <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Index.html#use-vstgui-to-design-a-user-interface">here</a>)</p>

<blockquote>
  <p>If you have created your project with the VST 3 Project Generator and check the “Use VSTGUI” (I didn’t - as far as I can tell it’s only for Mac/Windows) you can directly jump to Part 2 of this tutorial.</p>
</blockquote>

<p>Since there’s no GUI for linux, I had to do some digging. Cloning the VST 3 Project Generator from <a href="https://github.com/steinbergmedia/vst3projectgenerator">Github</a>, I found a script that I could run to generate a project at vst3projectgenerator/script/GenerateVST3Plugin.cmake. Here’s the readme:</p>

<blockquote>
  <p><strong>Usage</strong></p>

  <p>Execute on command line:</p>

  <pre><code class="language-console">&gt; $ cmake -P GenerateVST3Plugin.cmake
</code></pre>

  <p>The script will output all variables and its current values. In order to adapt variables, edit</p>

  <pre><code class="language-console">&gt; vst3plugingenerator/cmake/modules/SMTG_VendorSpecifics.cmake
</code></pre>

  <p>file to your needs.</p>

  <p>After the script has finished you will find a</p>

  <pre><code class="language-console">&gt; vst3plugingenerator/myplugin
</code></pre>

  <p>folder in the directory the script was executed in.</p>
</blockquote>

<p>And here’s my <code class="language-plaintext highlighter-rouge">vst3plugingenerator/cmake/modules/SMTG_VendorSpecifics.cmake</code>:
cmake_minimum_required(VERSION 3.14.0)</p>

<p>string(TIMESTAMP SMTG_CURRENT_YEAR %Y)</p>

<p>set(SMTG_VENDOR_NAME “eldun”)
set(SMTG_VENDOR_HOMEPAGE “eldun.github.io”)
set(SMTG_VENDOR_EMAIL “evan@eldun.net”)
set(SMTG_PLUGIN_NAME “SimpleSynth”)
set(SMTG_PLUGIN_IDENTIFIER “com.eldun.simplesynth.vst3”)</p>

<h1 id="source-code-specifics">
<a class="anchor" href="#source-code-specifics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Source code specifics</h1>
<p>set(SMTG_VENDOR_NAMESPACE “eldun”)
set(SMTG_PLUGIN_CLASS_NAME “SimpleSynth”)
set(SMTG_PREFIX_FOR_FILENAMES “simplesynth”)
set(SMTG_PLUGIN_BUNDLE_NAME “SimpleSynth”)
set(SMTG_PLUGIN_CATEGORY “Synthesizer”)</p>
<h1 id="setsmtg_macos_deployment_target-1012">
<a class="anchor" href="#setsmtg_macos_deployment_target-1012" aria-hidden="true"><span class="octicon octicon-link"></span></a>set(SMTG_MACOS_DEPLOYMENT_TARGET “10.12”)</h1>

<h1 id="replace-by-command-line-arguments">
<a class="anchor" href="#replace-by-command-line-arguments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Replace by command line arguments</h1>
<p>if(SMTG_VENDOR_NAME_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_NAME ${SMTG_VENDOR_NAME_CLI})
endif()
if(SMTG_VENDOR_HOMEPAGE_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_HOMEPAGE ${SMTG_VENDOR_HOMEPAGE_CLI})
endif()
if(SMTG_VENDOR_EMAIL_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_EMAIL ${SMTG_VENDOR_EMAIL_CLI})
endif()
if(SMTG_PLUGIN_NAME_CLI)
    string(REPLACE “"” “” SMTG_PLUGIN_NAME ${SMTG_PLUGIN_NAME_CLI})
endif()
if(SMTG_PREFIX_FOR_FILENAMES_CLI)
Now we have to install <a href="https://cmake.org/install/">cmake</a> to control the compilation process. I ran into issues on my Chromebook running executing the bootstrap file - extracting the cmake tarball to (and installing from) /home instead of /mnt solved my issues.</p>

<p>A helpful tutorial on CMake can be found <a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html">here</a></p>

<p>The next step is to construct our build folder with CMake, which will include some example VSTs.
&lt;/code&gt;&lt;/pre&gt;
mkdir build
cd build</p>

<p>cmake ../VST_SDK/vst3sdk/
cmake –build .
&lt;/code&gt;&lt;/pre&gt;
The resulting <code class="language-plaintext highlighter-rouge">build/VST3/Debug</code> folder is full of example VSTs:
&lt;/code&gt;&lt;/pre&gt;
adelay.vst3                helloworld.vst3            multiple_programchanges.vst3  prefetchable.vst3
again-sampleaccurate.vst3  helloworldWithVSTGUI.vst3  noteexpressionsynth.vst3      programchange.vst3
againsimple.vst3           hostchecker.vst3           noteexpressiontext.vst3       syncdelay.vst3
again.vst3                 legacymidiccout.vst3       panner.vst3
channelcontext.vst3        mda-vst3.vst3              pitchnames.vst3
&lt;/code&gt;&lt;/pre&gt;
Now we need a VST host - I already have Reaper installed, so that’s what I’ll be using. After setting up the path to our new VSTs in Reaper, we can load some up:</p>

<p><img src="/assets/images/blog-images/simple-synth/vst-examples.png" alt="Example Steinberg VST Plug-ins loaded up in Reaper"></p>

<h2 id="using-vstgui-1">
<a class="anchor" href="#using-vstgui-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using VSTGUI</h2>
<h3 id="setup-1">
<a class="anchor" href="#setup-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h3>
<p>(Following the article <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Index.html#use-vstgui-to-design-a-user-interface">here</a>)</p>

<blockquote>
  <p>If you have created your project with the VST 3 Project Generator and check the “Use VSTGUI” (I didn’t - as far as I can tell it’s only for Mac/Windows) you can directly jump to Part 2 of this tutorial.</p>
</blockquote>

<p>Since there’s no GUI for linux, I had to do some digging. Cloning the VST 3 Project Generator from <a href="https://github.com/steinbergmedia/vst3projectgenerator">Github</a>, I found a script that I could run to generate a project at vst3projectgenerator/script/GenerateVST3Plugin.cmake. Here’s the readme:</p>

<blockquote>
  <p><strong>Usage</strong></p>

  <p>Execute on command line:</p>

  <pre><code class="language-console">&gt; $ cmake -P GenerateVST3Plugin.cmake
</code></pre>

  <p>The script will output all variables and its current values. In order to adapt variables, edit</p>

  <pre><code class="language-console">&gt; vst3plugingenerator/cmake/modules/SMTG_VendorSpecifics.cmake
</code></pre>

  <p>file to your needs.</p>

  <p>After the script has finished you will find a</p>

  <pre><code class="language-console">&gt; vst3plugingenerator/myplugin
</code></pre>

  <p>folder in the directory the script was executed in.</p>
</blockquote>

<p>And here’s my <code class="language-plaintext highlighter-rouge">vst3plugingenerator/cmake/modules/SMTG_VendorSpecifics.cmake</code>:
cmake_minimum_required(VERSION 3.14.0)</p>

<p>string(TIMESTAMP SMTG_CURRENT_YEAR %Y)</p>

<p>set(SMTG_VENDOR_NAME “eldun”)
set(SMTG_VENDOR_HOMEPAGE “eldun.github.io”)
set(SMTG_VENDOR_EMAIL “evan@eldun.net”)
set(SMTG_PLUGIN_NAME “SimpleSynth”)
set(SMTG_PLUGIN_IDENTIFIER “com.eldun.simplesynth.vst3”)</p>

<h1 id="source-code-specifics-1">
<a class="anchor" href="#source-code-specifics-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Source code specifics</h1>
<p>set(SMTG_VENDOR_NAMESPACE “eldun”)
set(SMTG_PLUGIN_CLASS_NAME “SimpleSynth”)
set(SMTG_PREFIX_FOR_FILENAMES “simplesynth”)
set(SMTG_PLUGIN_BUNDLE_NAME “SimpleSynth”)
set(SMTG_PLUGIN_CATEGORY “Synthesizer”)</p>
<h1 id="setsmtg_macos_deployment_target-1012-1">
<a class="anchor" href="#setsmtg_macos_deployment_target-1012-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>set(SMTG_MACOS_DEPLOYMENT_TARGET “10.12”)</h1>

<h1 id="replace-by-command-line-arguments-1">
<a class="anchor" href="#replace-by-command-line-arguments-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Replace by command line arguments</h1>
<p>if(SMTG_VENDOR_NAME_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_NAME ${SMTG_VENDOR_NAME_CLI})
endif()
if(SMTG_VENDOR_HOMEPAGE_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_HOMEPAGE ${SMTG_VENDOR_HOMEPAGE_CLI})
endif()
    string(REPLACE “"” “” SMTG_PLUGIN_IDENTIFIER ${SMTG_PLUGIN_IDENTIFIER_CLI})
endif()
if(SMTG_PLUGIN_CLASS_NAME_CLI)
    string(REPLACE “"” “” SMTG_PLUGIN_CLASS_NAME ${SMTG_PLUGIN_CLASS_NAME_CLI})
endif()
if(SMTG_VENDOR_NAMESPACE_CLI)
    string(REPLACE “"” “” SMTG_VENDOR_NAMESPACE ${SMTG_VENDOR_NAMESPACE_CLI})
endif()
if(SMTG_PLUGIN_CATEGORY_CLI)
    string(REPLACE “"” “” SMTG_PLUGIN_CATEGORY ${SMTG_PLUGIN_CATEGORY_CLI})
endif()
if(SMTG_PLUGIN_BUNDLE_NAME_CLI)
    string(REPLACE “"” “” SMTG_PLUGIN_BUNDLE_NAME ${SMTG_PLUGIN_BUNDLE_NAME_CLI})
endif()
if(SMTG_CMAKE_PROJECT_NAME_CLI)
    string(REPLACE “"” “” SMTG_CMAKE_PROJECT_NAME ${SMTG_CMAKE_PROJECT_NAME_CLI})
else()
    set(SMTG_CMAKE_PROJECT_NAME ${SMTG_PLUGIN_BUNDLE_NAME})
endif()
if(SMTG_MACOS_DEPLOYMENT_TARGET_CLI)
    string(REPLACE “"” “” SMTG_MACOS_DEPLOYMENT_TARGET ${SMTG_MACOS_DEPLOYMENT_TARGET_CLI})
endif()</p>

<p>set(SMTG_SOURCE_COPYRIGHT_HEADER “Copyright(c) ${SMTG_CURRENT_YEAR} ${SMTG_VENDOR_NAME}.”)</p>

<p>function(smtg_print_vendor_specifics)
    message(STATUS “SMTG_VENDOR_NAME            : ${SMTG_VENDOR_NAME}”)
    message(STATUS “SMTG_VENDOR_HOMEPAGE        : ${SMTG_VENDOR_HOMEPAGE}”)
    message(STATUS “SMTG_VENDOR_EMAIL           : ${SMTG_VENDOR_EMAIL}”)
    message(STATUS “SMTG_SOURCE_COPYRIGHT_HEADER: ${SMTG_SOURCE_COPYRIGHT_HEADER}”)
    message(STATUS “SMTG_PLUGIN_NAME            : ${SMTG_PLUGIN_NAME}”)
    message(STATUS “SMTG_PREFIX_FOR_FILENAMES   : e.g. ${SMTG_PREFIX_FOR_FILENAMES}controller.h”)
    message(STATUS “SMTG_PLUGIN_IDENTIFIER      : ${SMTG_PLUGIN_IDENTIFIER}, used e.g. in Info.plist”)
    message(STATUS “SMTG_PLUGIN_BUNDLE_NAME     : ${SMTG_PLUGIN_BUNDLE_NAME}”)
    message(“”)
    message(STATUS “SMTG_CMAKE_PROJECT_NAME     : e.g. ${SMTG_CMAKE_PROJECT_NAME} will output ${SMTG_CMAKE_PROJECT_NAME}.vst3”)
    message(STATUS “SMTG_VENDOR_NAMESPACE       : e.g. namespace ${SMTG_VENDOR_NAMESPACE} {…}”)
    message(STATUS “SMTG_PLUGIN_CLASS_NAME      : e.g. class ${SMTG_PLUGIN_CLASS_NAME}Processor : public AudioEffect {…}”)
    message(STATUS “SMTG_PLUGIN_CATEGORY        : ${SMTG_PLUGIN_CATEGORY}”)
    message(STATUS “SMTG_MACOS_DEPLOYMENT_TARGET: ${SMTG_MACOS_DEPLOYMENT_TARGET}”)
    message(“”)
endfunction(smtg_print_vendor_specifics)</p>

<blockquote>
  <p>Before using the inline UI editor, you must make sure that you use the Steinberg::Vst::EditController class as a base of your own edit controller and that you have used the Steinberg::Vst::Parameter class or any subclass of it for your parameters. Otherwise the inline UI editor won’t work properly.</p>

  <p>Next you have to add vstgui to your project. For cmake users, you can just add the vstgui_support library to your target:</p>

  <p>target_link_libraries(${target} PRIVATE vstgui_support)</p>
</blockquote>

<p>I’m not yet an expert with Cmake, so I looked at the included plugin example CMakeLists.txt at /VST_SDK/my_plugins/helloworld_with_VSTGUI/ for an example:</p>

<p>&lt;/code&gt;&lt;/pre&gt;</p>

<p>if(NOT SMTG_ADD_VSTGUI)
    return()
endif()</p>

<p>cmake_minimum_required(VERSION 3.15.0)</p>

<p>project(smtg-vst3-helloworldWithVSTGUI
    VERSION ${vstsdk_VERSION}.0
    DESCRIPTION “Steinberg VST 3 helloworldWithVSTGUI example”
)</p>

<p>smtg_add_vst3plugin(helloworldWithVSTGUI   <br>
    include/plugcontroller.h
    include/plugids.h
    include/plugprocessor.h
    include/version.h
    source/plugfactory.cpp
    source/plugcontroller.cpp
    source/plugprocessor.cpp
)</p>

<p>if(SMTG_MAC)
    smtg_target_set_bundle(helloworldWithVSTGUI
        BUNDLE_IDENTIFIER “com.steinberg.helloworldWithVSTGUI”
        COMPANY_NAME “Steinberg Media Technologies”
)
elseif(SMTG_WIN)
    target_sources(helloworldWithVSTGUI
        PRIVATE 
            resource/info.rc
)
endif()</p>

<p>configure_file(${SDK_ROOT}/cmake/templates/projectversion.h.in projectversion.h)</p>

<p>target_include_directories(helloworldWithVSTGUI PUBLIC
    “${PROJECT_BINARY_DIR}”
)</p>

<p>target_link_libraries(helloworldWithVSTGUI
    PRIVATE
        sdk
        vstgui_support
)</p>

<p>smtg_target_add_plugin_resources(helloworldWithVSTGUI
    RESOURCES
        resource/plug.uidesc
        resource/background.png
        resource/animation_knob.png
        resource/onoff_button.png
        resource/background_2x.png
        resource/animation_knob_2x.png
        resource/onoff_button_2x.png
        resource/background_3x.png
        resource/animation_knob_3x.png
        resource/onoff_button_3x.png
)</p>

<p>smtg_target_add_plugin_snapshots(helloworldWithVSTGUI
    RESOURCES
        resource/41E3A6A2C1991743A64945DC3FB7D51D_snapshot.png
        resource/41E3A6A2C1991743A64945DC3FB7D51D_snapshot_2.0x.png
)
&lt;/code&gt;&lt;/pre&gt;</p>

<p>This only looks slightly different from the script-generated <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code> for <code class="language-plaintext highlighter-rouge">VST_SDK/my_plugins/SimpleSynth/CMakeLists.txt</code>:
&lt;/code&gt;&lt;/pre&gt;
cmake_minimum_required(VERSION 3.14.0)
set(CMAKE_OSX_DEPLOYMENT_TARGET  CACHE STRING “”)
The <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Using+cmake+for+building+plug-ins.html#available-smtg-cmake-options">SMTG option</a> “SMTG_ADD_VSTGUI” is on by default.</p>

<p>Next, you have to</p>

<blockquote>
  <p>alter your project settings to add a preprocessor definition to your debug build:</p>

  <p>VSTGUI_LIVE_EDITING=1
With cmake, this would look like this:</p>

  <p>target_compile_definitions(${target} PUBLIC$&lt;$<debug>:VSTGUI_LIVE_EDITING=1&gt;)</debug></p>
</blockquote>

<p>I threw this line in at the end of the “VST_GUI Wanted” section:</p>

<p>&lt;/code&gt;&lt;/pre&gt;
target_compile_definitions(SimpleSynth 
        PUBLIC
            $&lt;$<debug>:VSTGUI_LIVE_EDITING=1&gt;)
&lt;/code&gt;&lt;/pre&gt;</debug></p>

<blockquote>
  <p>Finally, you have to modify your edit controller class to overwrite the createView() method</p>
</blockquote>

<p>As far as I could tell, the method they show in <a href="https://steinbergmedia.github.io/vst3_dev_portal/pages/Tutorials/Use+VSTGUI+to+design+a+UI.html">the article</a> and the one in <code class="language-plaintext highlighter-rouge">vst3sdk/vstgui4/vstgui/plugin-bindings/vst3editor.cpp</code> are identical.</p>

<h3 id="using-the-vstgui-ui-editor">
<a class="anchor" href="#using-the-vstgui-ui-editor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the VSTGUI UI Editor</h3>
<p>Running the plugin in our DAW, we can see there’s a popup to use the visual editor:
<img src="/assets/images/blog-images/simple-synth/ui-editor-popup.png" alt="UI Editor Popup Option">
<img src="/assets/images/blog-images/simple-synth/ui-editor.png" alt="UI Editor"></p>

<p>Note that we have to save any changes within the editor (which would be the uidesc file), and we have to build our project after any changes to the uidesc file to see our changes.</p>


  </div>

<hr>
<h1><i class="fas fa-hand-peace"></i></h1>
<div class="post-tags">
    
  
  <a class="tag-link"
    href=/tags/synthesis
    rel="category tag">
    <code>#synthesis</code></a>

  
  <a class="tag-link"
    href=/tags/music
    rel="category tag">
    <code>#music</code></a>

  
  <a class="tag-link"
    href=/tags/c++
    rel="category tag">
    <code>#c++</code></a>

</div>

      <footer class="site-footer">
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>

    <!-- link to Prism Syntax Highlighter -->
    <script src="/js/site-scripts/prism.js"></script>

    <!-- Autoloader configuration (https://prismjs.com/plugins/autoloader/) -->
    <script> 
      Prism.plugins.autoloader.languages_path = '/assets/prism-components/'; 
    </script> 

<!-- Diff-highlighter is very picky about whitespace -->
    <!-- <script>Prism.plugins.NormalizeWhitespace.setDefaults({
      'remove-trailing': true,
      'remove-indent': true,
      'left-trim': false,
      'right-trim': true,
      // 'break-lines': 80,
      'indent': 0,
      'remove-initial-line-feed': true,
      'tabs-to-spaces': 4,
      // 'spaces-to-tabs': 4
    });</script> -->
    

      <!-- Back to top -->
    <script src="/js/site-scripts/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop()</script>

  </body>
</html>
